pipeline {
    agent any

    stages {
        stage('Trigger jenkins1 and jenkins2') {
            steps {
                script {
                    // ──────────────────────────────────────────────────────
                    // Option B – Run them one after another (uncomment if you prefer)
                    // ──────────────────────────────────────────────────────
                    
                    build job: 'jenkins1', wait: true, propagate: true
                    build job: 'jenkins2', wait: true, propagate: true
                    
                }
            }
        }
    }

    post {
        success { echo 'Both jenkins1 and jenkins2 completed successfully!' }
        failure { echo 'At least one of the jobs failed.' }
    }
}
